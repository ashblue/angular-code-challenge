"use strict";angular.module("interviewApp",["ngResource","ngRoute","angular.filter"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/cities/index.html",controller:"CitiesIndexCtrl",controllerAs:"cities"}).when("/cities",{templateUrl:"views/cities/index.html",controller:"CitiesIndexCtrl",controllerAs:"cities"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl",controllerAs:"contact"}).when("/cities/:cityId",{templateUrl:"views/cities/show.html",controller:"CitiesShowCtrl",controllerAs:"cities/show"}).otherwise({redirectTo:"/"})}]),angular.module("interviewApp").factory("City",["$resource",function(a){return a("http://mqlocal.aol.com/photos/:cityId",{cityId:"@id"})}]),angular.module("interviewApp").controller("CitiesIndexCtrl",["$scope","City",function(a,b){var c=b.query(function(){for(var b=0;b<c.length;b++)c[b].name=c[b].description.replace(c[b].id,"").trim();a.cities=c},function(){a.error="Failed to retrieve data from AOL server."})}]),angular.module("interviewApp").filter("replace",function(){return function(a,b,c){return void 0!==a?a.replace(b,c).trim():""}}),angular.module("interviewApp").controller("ContactCtrl",function(){}),angular.module("interviewApp").controller("CitiesShowCtrl",["$scope","$routeParams","City",function(a,b,c){var d=c.get({cityId:b.cityId},function(){a.city=d},function(){a.error="Failed to load city off of AOL server"})}]),angular.module("interviewApp").directive("photo",function(){return{templateUrl:"views/directives/photo.html",restrict:"E",replace:!0}}),angular.module("interviewApp").directive("navItem",["$location",function(a){return{templateUrl:"views/directives/nav-item.html",replace:!0,restrict:"E",scope:{},link:function(b,c,d){b.name=d.name,b.isRoot=d.root,b.url=d.url,b.selected=function(){var c=a.path();return b.isRoot&&"/"===c||c.includes(b.url.replace("#",""))}}}}]),angular.module("interviewApp").directive("city",function(){return{templateUrl:"views/directives/city.html",restrict:"E",replace:!0}}),angular.module("interviewApp").directive("error",function(){return{templateUrl:"views/directives/error.html",restrict:"E"}}),angular.module("interviewApp").run(["$templateCache",function(a){a.put("views/cities/index.html",'<h1>Available Cities</h1> <div class="row" ng-repeat="cityGroup in cities | orderBy:\'name\' | chunkBy:3"> <div class="col-sm-4" ng-repeat="city in cityGroup"> <city></city> </div> </div> <error></error>'),a.put("views/cities/show.html",'<article ng-if="city !== undefined"> <header> <!-- Using a custom filter here for demonstration --> <h1>{{city.record_title | replace:city.mqid:""}}</h1> </header> <p>Click a thumbnail to view the full size image.</p> <div class="row" ng-repeat="photoGroup in city.photos | chunkBy:3"> <div class="col-sm-4" ng-repeat="photo in photoGroup"> <photo></photo> </div> </div> </article> <error></error>'),a.put("views/contact.html",'<h1>Contact</h1> <p>This page was created by <a href="https://github.com/ashblue">Ash Blue</a>.</p>'),a.put("views/directives/city.html",'<article class="city-card card"> <a href="#/cities/{{city.id}}" class="card-link"> <header class="card-title"> <h2>{{city.name}}</h2> </header> <p class="card-meta"> <span class="label label-primary"><i class="fa fa-picture-o"></i> Photos: {{city.slides}}</span> <span class="label label-default">{{city.published | date:\'short\'}}</span> </p> </a> </article>'),a.put("views/directives/error.html",'<div ng-if="error" class="alert alert-danger" role="alert"> <span class="sr-only">Error:</span> {{error}} </div>'),a.put("views/directives/nav-item.html",'<li ng-class="{active: selected()}"><a ng-href="{{url}}">{{name}}</a></li>'),a.put("views/directives/photo.html",'<div class="photo thumbnail"> <a href="{{photo.url}}" target="_blank"> <img ng-src="{{photo.thumb}}"> </a> <div class="caption"> <p>{{photo.caption}}</p> <p><span class="label label-info">{{photo.credits}}</span></p> </div> </div>')}]);